function [Y,Xf,Af] = myNeuralNetworkFunction(X,Xi,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 16-Apr-2017 21:23:00.
%
% [Y,Xf,Af] = myNeuralNetworkFunction(X,Xi,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 24xQ matrix, input #1 at timestep ts.
%
%   Xi = 1x2 cell 1, initial 2 input delay states.
%   Each Xi{1,ts} = 24xQ matrix, initial states for input #1.
%
%   Ai = 2x0 cell 2, initial 2 layer delay states.
%   Each Ai{1,ts} = 10xQ matrix, initial states for layer #1.
%   Each Ai{2,ts} = 24xQ matrix, initial states for layer #2.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 24xQ matrix, output #1 at timestep ts.
%
%   Xf = 1x2 cell 1, final 2 input delay states.
%   Each Xf{1,ts} = 24xQ matrix, final states for input #1.
%
%   Af = 2x0 cell 2, final 0 layer delay states.
%   Each Af{1ts} = 10xQ matrix, final states for layer #1.
%   Each Af{2ts} = 24xQ matrix, final states for layer #2.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-0.7791169357116;-0.383784993443823;-0.669351017285995;-2.05304785164751;-0.456752147557067;-0.948800947606576;-0.326468476466926;-0.550316111645087;-1.88032968732227;-0.309477985532992;-0.779063528226722;-2.14960284862342;-0.330557557358952;-1.12794591298831;-0.315474312407063;-0.431373593410342;-1.16218412586129;-0.312484586615104;-0.594405762767491;-0.438096815939592;-0.317429887268392;-0.944824335773486;-0.431613474571695;-0.420963915980469];
x1_step1.gain = [0.0191048964246444;0.0193726389327993;0.0194255141367929;0.0182121074964724;0.0189827348990454;0.0190564653565199;0.019371701358273;0.0194190194374066;0.0192751600472037;0.0195735381327172;0.0196237149299839;0.0193321887188263;0.0195562481522727;0.0190832851312723;0.019443771072457;0.0196947244474766;0.0193327452095697;0.0197490929408335;0.0191165251753312;0.0187214636716812;0.0192180671191601;0.0189673600731882;0.0189731388476513;0.0189835746010928];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.18544258396065668726;-0.076039259314830839886;-0.15529469606501081214;0.049555723586462117891;0.19171812996809944885;-0.14731456442467968926;0.026109019387632069475;-0.054307448904899913167;-0.10345903813791393344;-0.14922926987269025112];
IW1_1 = [0.052849819008533624465 0.036581493203532704228 0.025071872541160458714 0.030874105385594253353 0.030549688258255668777 0.029821224965577496774 -0.027570133999872615399 -0.1770577837333718596 -0.25895155699263344706 -0.33646241092078199575 -0.38166380364236529577 -0.0061850091998628831808 0.037807082842008281343 -0.0020966096589213768092 0.071875536295692918354 0.063321465506503804566 0.066312750535991477063 0.079982887667805896426 0.2105949126398301563 0.17764417440391114256 0.10119934292101824547 0.19952630523221695502 0.065666530766304187505 0.037667692174580005848 0.23636239298684832977 0.15324106081130164925 0.089130418179524079081 0.064063182467752097238 0.06572691281028128496 0.064251331316934473525 0.051504930000144277802 0.017214883843158196308 -0.047012629992832823123 -0.021673642338282141789 0.035238966024938103705 -0.17273434600295786701 0.018594461204056184772 0.18721274935605003442 0.021326820565263773094 0.023232403191523774699 0.016165512153576568066 0.015087882253503050525 0.017750196093902943784 0.091934343821510750017 0.22825433372910020058 0.09773928663538773709 0.16585736627871011661 0.098931837810862677252;-0.00073912811094530538047 0.013189759065491418397 -0.077637737926914848763 -0.10422877260448185077 -0.2172956569821185846 -0.35179586329754231055 -0.11698384491254502915 -0.11556644852090257325 -0.096824313839468573173 -0.068554178155742523382 -0.045339427884417853043 -0.034908010014300341894 -0.016734941458264838976 0.10381161594850923935 0.16905441864108500249 0.037724946993766501901 0.0052412613757417793672 -0.026336300637831596555 -0.038431041778299528111 -0.040878141430737459372 -0.015179665259599862612 0.04824700980061513711 0.039423449153340242579 0.032388855979418006148 0.040417245063982948361 0.02725478916011114458 0.042943945151841272923 -0.0074798371491825261723 -0.057214700203140143875 -0.08797388434651734479 -0.33387113231403875435 -0.2804870047357276297 -0.011426375047911337124 0.0024066160562597020689 0.010677191395305084612 0.039819061790857729344 0.032922305905065667175 0.037280309378358258976 0.03516333168538114673 0.17409667726330924076 0.10487408639866092896 0.042300339244730103538 0.043370230664133133103 0.030252141437079646535 0.00074488712399040112912 -0.059668670292446761294 -0.0061953391492788490585 -0.013634220734930709018;-0.02322746168570829009 -0.081219038488860140212 0.11817226336351827065 0.23511164862002709164 0.094773011957557676266 -0.046678933488373035299 0.1727738087837215053 0.15057665406944387154 0.085244387677011687621 0.05273299229035271346 -0.075942457490761824945 -0.21937523398164038291 -0.22506922139709448216 -0.11919613050745145322 0.28502702318301370576 0.17245546776148737433 -0.034896864662060954332 -0.022094796692927416715 -0.0050419407350928962391 0.021829329360303854207 0.078187253724200836413 0.15369881575911795157 0.11174937411289208311 -0.068178554068322877457 0.1331936538301988493 0.11839320281369271337 -0.11724765466311790063 -0.058983688568409950448 0.12631820863902878949 0.1767063775041388396 -0.087224260438996406575 -0.10045910350504078101 0.12070710784051233433 0.098015933862454093783 0.135118265444003266 0.045381543980700878027 -0.013080750052151365187 -0.071478766466328211293 0.0037610849438810853122 0.17795890730046992623 0.29560069854133375067 -0.055724888097422063671 -0.14973987220988368985 -0.11622835352985468049 -0.069661559706865702757 -0.0045641851666651644254 0.086769902847665031365 0.10726057411812017772;0.087114949554302267831 0.18637498973837549054 0.12376691892886912405 0.066697235595256157414 0.039924087200507440976 -0.023059966043524542795 0.0081316034765558532077 0.0095843382621170931934 0.0089627151931104421384 0.016941164267256936943 0.011313164452887533584 -0.016960367030439633951 -0.0077602779351100660901 0.053384389989508472529 -0.06112529806955598749 -0.074099102520794143945 -0.0021337233396256805734 -0.0024932811511885993698 -0.0015034878913572490445 0.007390386950477062164 0.025663891192864541485 0.035900622943674388721 0.078443679640317634516 0.20026663054250570806 0.030936291315210008579 0.034453026935116891349 0.15827765322124998093 0.20479722068579095384 0.13747059364640337731 0.10709221252977535466 -0.0040830137544226813642 -0.016024364359520173323 0.011116199717517025181 0.0044961984123624452667 -0.034323034941598343228 -0.052893471136056413595 -0.098360934248158435333 -0.12838282969030914704 -0.14617863342675727067 -0.096778443349626347425 -0.15436671349841885048 -0.066008475297571367335 -0.012330016872155739188 -0.0094394714882190498828 -0.0056234142881129555586 0.0013931320337823274638 0.016764846629593960214 0.019195787634915358749;-0.22675774182351465802 -0.088170640571095804106 -0.038088162202446776416 -0.037627908487059873177 -0.018893564135268874071 0.0035766929472785544478 0.033086882298529865509 0.10630420546893237788 0.27056517889623510342 0.021731897225049968264 -0.15071988808883493571 -0.018553079177403952738 -0.022015996150074289284 0.0012881353689373580256 -0.0043176269490753016109 -0.037872398501521548075 -0.10240977440104222229 -0.16358418126641866008 0.052847201604876124781 0.15535158553514996638 0.050040958909589136616 -0.022688966497413032286 -0.21292199248641774378 -0.092480251444249761406 0.018139482068616229193 -0.15903374062014091761 -0.17549679249064850661 -0.011306977276188368356 -0.025138565853377699971 -0.026621781428103861999 -0.0072141087879776435304 -0.012270686608733991432 -0.0039103975733657545324 0.12933310054905397535 0.32576030464819666355 -0.0063042747670116966799 -0.0014744542971122994324 0.054434850042743371246 0.078195947138604102178 0.033392176372003763707 -0.06176841884130102045 -0.078088271758921162791 -0.17535449354556773005 -0.11511012190481552386 0.093843420933321972099 0.11220781149842373736 -0.050898668216663695008 -0.21063297292744309619;0.020362667719386846193 0.038908663717353006439 -0.023862955509406275773 -0.089300013278877835021 0.0027125036551775747427 0.11398495470230217419 -0.15374206271764173648 -0.17520870660821452613 0.048543818050746825876 0.11691817614664774816 0.1167853210212494719 -0.074081247524194038245 -0.038562899529491247164 -0.1356049674177595421 -0.027201324948334760362 0.10530910170900671663 0.1117642320936056699 -0.026016605077085964287 -0.052547561609858177423 0.0075507544210895042106 0.13814348817206884013 0.20679925548944402824 0.0027379360032553467889 0.0092331925684637616153 0.24164687137611412515 0.058058929614670989894 -0.061368444994005726112 -0.0342645232207823211 -0.11564512217333761113 -0.13528684939008425725 0.055365137136530392925 -0.023600209882087708896 -0.26084539815833590604 -0.053009571748555965598 0.17945934556306428198 0.28908267879635668463 0.18290305507172108235 0.043032584732476855671 -0.057837496965954263151 -0.17531965965016049758 -0.10289886575496010046 0.095288977110354639022 -0.019147382172093743019 -0.14026462475268211549 -0.1162302521872290717 0.057348740146201900025 0.21572952016358420968 0.090704420643761760057;0.13052290904039495767 0.080796687674724351758 0.023369167360866752864 0.029506552047672655881 0.0074467681899180598881 -0.021473519584656184517 0.044292595237251812523 0.033240002733267860757 0.15887976745782633747 0.059400532618895621195 0.086820011516787476413 0.13452241106958609529 0.15078766419349590167 0.15967366216059938888 0.079229678905341549555 0.0018056090067309525041 -0.10951838241219324921 -0.20040773164182326682 -0.10172511185954866142 -0.023385773782688776962 0.019798482392683555003 0.093160957804115360203 0.086146278328735795271 0.053392924229303251327 0.10086054288103218912 0.10663484261291314437 0.16199540733607908916 0.031868028027010830705 0.029237400570833467495 0.023476174366805869359 -0.049137326407533106487 -0.055459510599701195011 0.033609499400171195804 0.14442722742893729371 0.19530739119690262995 0.039759986349091211433 0.12178697584632859618 0.12332289245142456779 0.0603427445588979941 0.083587919042206859643 -0.0050664566809031381239 -0.067328975528164428099 -0.1781520990885638589 -0.18427432898942822104 -0.06669629293174311746 -0.0065279726259954221068 0.087976145691920748515 0.086221932376868593018;-0.087426857337961891292 -0.18621823961197353503 -0.12177005161522361232 -0.063619655852755627179 -0.036281877666208862954 0.027903908607275020037 0.0013985478856161899595 0.0064812875217081606857 0.010014067797415969821 -0.00024959632700000328794 0.0043295016204982442881 0.03184959091267704212 0.02115158904995437586 -0.038885715426476147316 0.076574975776092166213 0.088199824212755489894 0.014320455421519297928 0.015071923048286466063 0.013992137028120320286 0.0053282920399299752226 -0.017560776558766613004 -0.034893092463953882809 -0.078097024112075752456 -0.19998788359065239328 -0.029935059626948087169 -0.033982021211495225255 -0.15919610021413685419 -0.2038479585092706492 -0.13540569633702298491 -0.10461009638237318831 0.004670436652605454951 0.0081707064533720237531 -0.021366117684150170986 -0.010395879557808322333 0.02996272279884284323 0.047415285303297333153 0.09483782360411763257 0.12207439030701153215 0.14609962084636124446 0.094990019147180859704 0.1515809592449929577 0.060098543266111054129 0.0057281411760290367949 0.0033529415679262155117 0.0069245160210781517285 0.011449388652928353324 -0.014793067189666444031 -0.018749083913224995346;-0.24933069872538651812 -0.053029767562046685458 0.027862404212318888502 0.059904916153919095245 0.060738535017213934886 0.066223380229299064204 0.27241475191748304452 0.099362182465979512203 -0.29808292689234394679 -0.017176605157161298904 0.01836486276247997762 0.056568498501825652258 0.11927845339889985021 0.1143597434748093028 0.11717115614275964985 -0.049533742231383091903 0.067614039679444223885 0.25328239591882845128 0.11344154740366936551 -0.023712924742152467761 0.038403234401714052282 0.20001544143861721414 -0.15826996589982286756 0.017319699205621853777 0.25602759013612069738 -0.073349555347414344131 -0.12795305581002855422 0.13334052838799970164 0.12598361560580212393 0.12298288895597986325 0.054626480890778192356 -0.01386779390052714743 0.12331733210500533948 -0.1125995382389873567 0.010350237064887865893 0.35726646751439489202 0.31211691609418940052 0.25793871146935659633 0.085052637583911003261 0.049147410369990783552 -0.18381897873808478172 -0.30118367719369876223 -0.088426021871474899672 -0.020413844062612790387 -0.082653380631437955994 -0.059868545631368494386 0.09140312179042189844 -0.16610537648136255995;-0.16224354211537311832 0.057701350359990410954 0.24396735087089871374 0.30384310390338409302 0.22919987406108860428 0.073723556115230862162 -0.093141724915812337815 -0.25215838673396123726 -0.19184079063397632692 -0.070311834104749476593 -0.14547550468183739758 0.029840057161714159117 0.087376700944444274377 0.17332659314061529821 0.24485202127187360999 0.26951086188035572322 0.16000873268290688456 0.063492975486704655852 0.010211633883464446906 -0.099232399478213370592 -0.091629760308465577068 0.063523058073646734845 -0.11844242417374364895 0.059238675148305171281 0.098973800576009268726 -0.099022474428376069944 -0.070525057311549857464 0.22840335168567460489 0.31422802517162490288 0.32916703665760854713 0.074568796872803724818 -0.043309801009409794326 -0.20393409791644964701 -0.077422931219194177088 0.11392841431015938991 0.13295291148175136797 0.15580891120963602514 0.20089901051349484673 0.037611301589714304927 0.15795012544552036737 0.1587516245227092726 0.11392651501333338204 -0.033572355404472897789 -0.1271687484645084576 -0.1031022153263311536 -0.19781163958362918409 -0.033308509837874374082 -0.16190122092716469071];

% Layer 2
b2 = [0.015056736477650014411;0.11523537844878928293;0.15463745379278864833;-0.096790759603751760909;-0.10185235528796320048;-0.14413797496139080234;-0.2152969634696376422;-0.13165088823054246769;-0.011661838170134736919;-0.26139878154192669468;-0.33232711885805876761;-0.17811594302342417806;-0.19990977665030421062;-0.18079058207818687887;-0.16081780515637175699;-0.12080405279777474414;-0.10007950788579089707;-0.095456774182118953043;0.069995433489713348996;0.1706061090437211436;0.12221355291415395006;0.1427782908731942968;0.019718838038919210554;0.12143909003673296343];
LW2_1 = [-0.072203820153140002569 -0.055362120108497787918 0.074404799040530503196 0.45162647631653951574 -0.02289714930908051671 -0.074405300370898638795 0.018950204621742468281 -0.44403578769129853354 0.074692447639356396305 0.08694328135180968975;-0.14299652172283444651 -0.21035506594444294826 0.3427121997437631018 0.26977086006841105581 -0.16507054474333557326 -0.15002304033335181477 0.022236760384321888062 -0.28685803986427005352 -0.018449049148270037224 0.24964475107759678818;-0.1474137306719434104 -0.28717820825495948833 0.40593902717400276448 0.23565667037589399513 -0.20825964504521055076 -0.18987290234464962446 0.0154068962418284338 -0.20843623505599195855 -0.021561048148860756379 0.27572091763855582913;-0.049784337473094783522 -0.95907841893165435287 0.010407273285315401384 -0.031850207636773958386 -0.045298127318420020049 0.078512217159648553522 -0.003058140569628568263 0.03659732118509604476 0.0018872676142586064171 0.015162140216511663798;-0.032637023343442990442 -0.72399510719859871966 0.16828814720230178548 -0.018326282022591271897 -0.090061417631681295326 -0.14336174168250931382 0.12109285619826548608 0.010791022739804239511 0.23874019797506640383 -0.14581580834921659129;-0.015070263725373364214 -0.27347818958027597658 0.33734814017166658839 0.044138664981982142499 -0.081526667430842900131 -0.38978155312227141804 0.34386699412399657216 -0.055031147375662961552 0.53017319041293697879 -0.36564266482255936008;-0.023519569585447420296 -0.17241583680454924954 0.26239975874361809449 0.051908211454833257104 0.42111697773965039993 0.10223398345999691605 0.63337047887972308668 -0.04995986425561675659 0.017492805892472478024 0.042115364550498933516;-0.01137540224695489724 -0.06111656837552244953 0.24476611880133722354 0.062935660257417841423 0.58106092080391691379 0.36160882843288749688 0.45618460758916895559 -0.072351391840650480791 0.26839894276385584115 0.11551843311685652815;-0.44917718856226945823 0.099989571219578299299 0.0900048588697594798 0.082119640446932942734 0.1349611667428569084 0.54063253775121267175 0.1003911156319466369 -0.065767826228909864739 0.81458257239829223728 0.24061272142102937965;-0.051958188266540215883 -0.04377718070895189606 -0.067479427799629287943 -0.061627452895841754177 0.14198463006230799266 0.10219609263628558204 0.21075431714078482481 0.07058067914527428599 0.57673747371173300635 0.40073537997928659893;0.1891300113800355176 -0.080441046789657522087 -0.20606341853758070037 -0.11754833289229747739 0.19381358327048855972 -0.10617970922670796896 0.27197987952876706563 0.11671132441096655763 0.52265109690665434439 0.50268991390441830625;0.1914132271267147134 0.1961532234573062361 -0.13194492794309989336 -0.02673008165586251636 0.15664877890581505038 -0.16849049182589256879 0.32670467666055341693 0.032660996286048432635 0.55617848050542129101 0.60812109151835336274;0.10440395003476804492 0.41308468210578486168 0.39590843720282092866 -0.081966162690537344715 -0.10663633278957096451 -0.28064346791888139521 0.26369350219607445851 0.08717110843883486837 0.30835541764428014977 0.67884092659196537678;0.12706651435368068737 0.019834971247827567348 0.64918416002171852597 -0.28947492597119917068 -0.19643405650521467143 0.076769770061604389322 -0.10038498291740234614 0.28402705413189810457 -0.072498057388547684776 0.8042355873605998573;0.32468727669828512106 0.13967382053275559373 -0.085477303853182515225 -0.073364290268607759704 -0.30321640094084062467 0.40718002324354940491 -0.055526297386155040736 0.058849320520847972493 -0.103988729207952324 0.59274188653968928886;0.40003704294192538038 0.083808168450046002795 -0.086786764365556393064 -0.017976510638595302738 -0.46422953600483679582 0.20577447085806740978 -0.29831334284789468025 0.015565386698162132773 0.22416364302038971346 0.33230403912323230875;0.70126155353646590918 -0.01192520377516983858 -0.024450673820318860607 -0.0071694751533743095867 -0.26953061174506176556 0.030742483815777255779 -0.23120751157129484921 -0.0054753333246179624813 0.18515138507964373771 0.1401496684486987776;0.99941371953037494436 -0.050372790796197337848 0.045725194196372817568 0.037989051345119879965 0.055208796962288482491 -0.011676661405859638937 -0.046558737036631984985 -0.015368584102856080661 -0.01861901099374846727 0.04446400050971390655;0.64724841719797332473 0.031061775976696019003 0.22198386219781962581 0.098408853489016623328 -0.041332515761077354144 0.30850638710930250452 -0.029733395555604939797 -0.099032788084850331689 0.072187402875198994345 -0.14976183805321846565;0.38533476268337574222 0.091520737375136926306 0.32781212288235217489 0.13419251365655099351 -0.14700517933171552976 0.52060710940277499237 -0.031453480248337988001 -0.14868575015146665019 0.1510246196398997709 -0.2651727917184087957;0.29764303553408011371 0.019987257331729488957 0.31936476054927193102 0.13136003189226627685 -0.34480067618192300483 0.35893212155378023676 0.090785905685090109718 -0.11401127091763373078 -0.041079313131357951538 -0.26669789866772497522;0.14696119702522389416 0.080865806028241546399 -0.075961921875780255564 0.26543751594616865619 -0.48754288548437824113 0.066093229637008421573 0.48604308185199007752 -0.25946456089992120386 -0.19608038421300447163 -0.1114611198177714313;-0.028739343182416561551 0.025308460503585213097 -0.037734972884642357938 0.50684178747985586533 0.029808410471762740446 -0.0016539611363801736636 0.095599948328058417801 -0.51366734217789489225 -0.037690744541886700425 0.1363328442440203403;-0.085689335940862934593 -0.20025561701668365133 0.27871653688180592079 0.29914734582770036164 -0.066461415153130462552 -0.1576412255845124899 0.097667246995869386184 -0.30957586739884024318 -0.071113492281374007797 0.2915374943795785434];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.0191048964246444;0.0193726389327993;0.0194255141367929;0.0182121074964724;0.0189827348990454;0.0190564653565199;0.019371701358273;0.0194190194374066;0.0192751600472037;0.0195735381327172;0.0196237149299839;0.0193321887188263;0.0195562481522727;0.0190832851312723;0.019443771072457;0.0196947244474766;0.0193327452095697;0.0197490929408335;0.0191165251753312;0.0187214636716812;0.0192180671191601;0.0189673600731882;0.0189731388476513;0.0189835746010928];
y1_step1.xoffset = [-0.7791169357116;-0.383784993443823;-0.669351017285995;-2.05304785164751;-0.456752147557067;-0.948800947606576;-0.326468476466926;-0.550316111645087;-1.88032968732227;-0.309477985532992;-0.779063528226722;-2.14960284862342;-0.330557557358952;-1.12794591298831;-0.315474312407063;-0.431373593410342;-1.16218412586129;-0.312484586615104;-0.594405762767491;-0.438096815939592;-0.317429887268392;-0.944824335773486;-0.431613474571695;-0.420963915980469];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;
if (nargin < 2), error('Initial input states Xi argument needed.'); end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
elseif ~isempty(Xi)
    Q = size(Xi{1},2);
else
    Q = 0;
end

% Input 1 Delay States
Xd1 = cell(1,3);
for ts=1:2
    Xd1{ts} = mapminmax_apply(Xi{1,ts},x1_step1);
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Rotating delay state position
    xdts = mod(ts+1,3)+1;
    
    % Input 1
    Xd1{xdts} = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    tapdelay1 = cat(1,Xd1{mod(xdts-[1 2]-1,3)+1});
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*tapdelay1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
end

% Final Delay States
finalxts = TS+(1: 2);
xits = finalxts(finalxts<=2);
xts = finalxts(finalxts>2)-2;
Xf = [Xi(:,xits) X(:,xts)];
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
